<!DOCTYPE html>
<html>

<head>
<title>Taphouse Demo</title>
<meta name = "viewport" content ="width=device-width, minimum-scale=1, maximum-scale=1">

<!-- META -->
<meta charset = "utf-8">

<!-- CSS -->
<link rel="stylesheet" href="../css/reset.css" />
<link rel="stylesheet" href="../css/styles.css" />
<link rel="stylesheet" href="../css/slide-default.css" />
<link rel="stylesheet" href="../css/slide-common.css" />
<link rel="stylesheet" href="css/styles.css" />

<!-- JS -->
<script type="text/javascript" src="../js/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="../js/jquery.easing-1.3.js"></script>
<script type="text/javascript" src="../js/jquery.mobile-events.min.js"></script>

<!-- cookie -->
<script type="text/javascript" src="../js/jquery.cookie.js"></script>

<!-- iosSlider plugin -->
<script type="text/javascript" src="../js/jquery.iosslider.js"></script>
		
<body>
	
<div id="main-container">

<script type="text/javascript">
$(function() {

	$('a').on('tapstart', function() {
		//a++;
		//console.log(a);
	});

	$('.b_book').on('tapstart', function() {
		if(!$(this).parents('li').hasClass('active')) {
			$('#room-list li').removeClass('active');
			$(this).parents('li').addClass('active');
			$('#hotel-col2 #col2-overlay').addClass('hidden');
			randomBooked($(this).data('booked'));
		}
	});
	
	$('#hotel-book-div .arrow-up').on('tapstart', function() {
		$(this).parent().prev('.big-number').text(parseInt($(this).parent().prev('.big-number').text()) + 1);
	});
	$('#hotel-book-div .arrow-down').on('tapstart', function() {
		if (parseInt($(this).parent().prev('.big-number').text())!=$(this).data('min')) {
			$(this).parent().prev('.big-number').text(parseInt($(this).parent().prev('.big-number').text()) - 1);
		}
	});

});
</script>
<div id="content-overlay"></div>
<div id="content-nav" style="position: absolute; top: 20%; right: 10%; background: rgba(255, 255, 255, 0.5);">
	
</div>
<div id="content-view">
	<div id="header">
        <div id="headerlogo">
            <a href="index.html"><img src="images/taphouse-logo.png"/></a>
        </div><!-- headerlogo -->
    </div>
    <div id="taphouse-container">
    	<div id="hotel-col1-scroll">
            <div id="hotel-col1">
                <ul id="room-list">
                    <li>
                    	<div class="col1"><img src="images/hotelroom_1.jpg" /></div>
                        <div class="col2">
                        	<div class="col2-cont">
                                <h1>Deluxe King or Twin</h1>
                                <p>Deluxe King Rooms offer a variety of spectacular views, a luxurious deep soaking bath and king bed.</p><p class="roomprice">From $335 per night</p>
                                <a class="button-fill b_book" href="#" data-booked="10">Book</a>
                            </div>
                        </div>
                        <div class="arrow"></div>
                    </li>
                    <li>
                    	<div class="col1"><img src="images/hotelroom_2.jpg" /></div>
                        <div class="col2">
                        	<div class="col2-cont">
                                <h1>Premier King or Twin</h1>
                                <p>Premier King Rooms offer a variety of spectacular views, a luxurious deep soaking bath and king bed.</p><p class="roomprice">From $398 per night</p>
                                <a class="button-fill b_book" href="#" data-booked="20">Book</a>
                            </div>
                        </div>
                        <div class="arrow"></div>
                    </li>
                    <li>
                    	<div class="col1"><img src="images/hotelroom_3.jpg" /></div>
                        <div class="col2">
                        	<div class="col2-cont">
                                <h1>Studio Room</h1>
                                <p>The Studio Rooms offer 55sqm of contemporary luxury with sweeping views of the Yarra River and Melbourne city skyline.</p><p class="roomprice">From $424 per night</p>
                                <a class="button-fill b_book" href="#" data-booked="15">Book</a>
                            </div>
                        </div>
                        <div class="arrow"></div>
                    </li>
                    <li>
                    	<div class="col1"><img src="images/hotelroom_4.jpg" /></div>
                        <div class="col2">
                        	<div class="col2-cont">
                                <h1>Deluxe Villa</h1>
                                <p>Experience unparalleled luxury accomodation like never before in a stunning One Bedroom Villa.</p><p class="roomprice">From $519 per night</p>
                                <a class="button-fill b_book" href="#" data-booked="25">Book</a>
                            </div>
                        </div>
                        <div class="arrow"></div>
                    </li>
                </ul>
            </div><!-- hotel-col1 -->
        </div><!-- hotel-col1-scroll -->
        <div id="hotel-col2">
        	<div id="col2-overlay">
            	<h1>Select a room to book</h1>
            </div>
        	<h1 class="col-header">SELECT YOUR DATES</h1>
            <div class="calendar-cont">
            	<div class="calendar-monthselectdiv">
                	<a class="b_month b_prev" href="#"><span class="glyphicon">&#xE079;</span></a><h1>Jul 2015</h1><a class="b_month b_next" href="#"><span class="glyphicon">&#xE080;</span></a>
                    <div class="clear"></div>
                </div>
            	<div class="calendar-daylabelsdiv">
                    <ul class="calendar-daylabels">
                        <li>SUN</li><li>MON</li><li>TUE</li><li>WED</li><li>THU</li><li>FRI</li><li>SAT</li>
                    </ul>
                    <div class="clear"></div>
                </div>
                <div class="calendar-daysdiv">
                    <ul class="calendar-days">
                        <script>
                        function outputDays(start, end, month) {
                            for (i = start; i < end+1; i++) { 
                                document.write("<li><a href='#' id='day"+i+"month"+month+"' data-day='"+i+"' data-month='"+month+"'><div>"+i+"</div></a></li>");
                            }
                        }
						
						function randomBooked(number) {
							//var number = 10 + Math.floor(Math.random() * 15);
							
							$(".calendar-cont .calendar-days li a").removeClass("disabled");
							$(".calendar-cont .calendar-days li a:lt("+number+")").addClass("disabled");
						}
                        outputDays(28,30,6);
                        outputDays(1,31,7);
                        outputDays(1,1,8);
						//randomBooked();
						
						$(".calendar-cont .calendar-days li a").on("tapstart",function(){
						  $(this).toggleClass('active');
						  
						  setCheckOut($(this));
						  setCheckIn();
						  setNights();
						});
						
						function setCheckIn() {
							if($('.calendar-days li a').hasClass('active')) {
								$('#checkintext').text($('.calendar-days li a.active:first').data('day')+" JUL 2015");
							} else {
								$('#checkintext').html('&nbsp;');
							}
						}
						function setCheckOut(thisbut) {
							if($('.calendar-days li a').hasClass('active')) {
								daylast = $('.calendar-days li a.active:last').data('day');
								dayfirst = $('.calendar-days li a.active:first').data('day');
								dayjustclicked = thisbut.data('day');
								if( daylast == dayfirst ) {
									//one night stay
									$('#checkouttext').text((parseInt($('.calendar-days li a.active:last').data('day'))+1)+" JUL 2015");
									if(thisbut.hasClass('active')) {
										//just selected
										$('.calendar-days li a.active:first').parent().next('li').children().addClass('active');
									} else {
										//just deselected
										$('#checkouttext').html('&nbsp;');
										$('.calendar-days li a').removeClass('active');
									}
									
								} else {
									$('#checkouttext').text($('.calendar-days li a.active:last').data('day')+" JUL 2015");
								}
							} else {
								$('#checkouttext').html('&nbsp;');
							}
						}
						function setNights() {
							if($('.calendar-days li a').hasClass('active')) {
								daydiff = $('.calendar-days li a.active:last').data('day')-$('.calendar-days li a.active:first').data('day');
								if (daydiff>=2) {
									$('#nightstext').text(daydiff);
								} else {
									$('#nightstext').text(1);
								}
							} else {
								$('#nightstext').html('&nbsp;');
							}
						}
                        </script>
                    </ul>
                    <div class="clear"></div>
                </div>
            </div><!-- calendar-cont -->
            <div id="hotel-book-div">
            	<div class="col">
                	<div class="label">CHECK-IN <span class="sub">2PM</span></div>
                    <div id="checkintext" class="top-text">&nbsp;</div>
                    <div class="label">ADULTS</div>
                    <div class="bottom-text">
                    	<div id="count_adults" class="big-number">1</div>
                        <div class="arrow-div">
                        	<a href="#" class="arrow arrow-up"><span class="glyphicon">&#xE113;</span></a>
                            <a href="#" class="arrow arrow-down" data-min="1"><span class="glyphicon">&#xE114;</span></a>
                            <div class="clear"></div>
                        </div>
                    </div>
                </div>
                <div class="col">
                	<div class="label">CHECK-OUT <span class="sub">11AM</span></div>
                    <div id="checkouttext" class="top-text">&nbsp;</div>
                    <div class="label">CHILDREN</div>
                    <div class="bottom-text">
                    	<div id="count_children" class="big-number">0</div>
                        <div class="arrow-div">
                        	<a href="#" class="arrow arrow-up"><span class="glyphicon">&#xE113;</span></a>
                            <a href="#" class="arrow arrow-down" data-min="0"><span class="glyphicon">&#xE114;</span></a>
                            <div class="clear"></div>
                        </div>
                    </div>
                </div>
                <div class="col">
                	<div class="label">NIGHTS</div>
                    <div id="nightstext" class="top-text">&nbsp;</div>
                    <div class="label">ROOMS</div>
                    <div class="bottom-text">
                    	<div id="count_rooms" class="big-number">1</div>
                        <div class="arrow-div">
                        	<a href="#" class="arrow arrow-up"><span class="glyphicon">&#xE113;</span></a>
                            <a href="#" class="arrow arrow-down" data-min="1"><span class="glyphicon">&#xE114;</span></a>
                            <div class="clear"></div>
                        </div>
                    </div>
                </div>
                <a class="button-fill" href="#">Next</a>
            </div><!-- hotel-book-div -->
            
        </div><!-- hotel-col2 -->
    </div><!-- taphouse-container -->
</div>

</div> <!-- /#main-container -->
</body>
</html>